<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Polar data – EODH Training Materials</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2" crossorigin="anonymous"></script><script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-b758ccaa5987ceb1b75504551e579abf.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-0c6282e9eda64d97ea9e5255f7a37655.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-d6f41e6f289ddcd3353223713284dc1e.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../site_libs/bootstrap/bootstrap-0c6282e9eda64d97ea9e5255f7a37655.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdn.jsdelivr.net/npm/requirejs@2.3.6/require.min.js" integrity="sha384-c9c+LnTbwQ3aujuU7ULEPVvgLs+Fn6fJUvIGTsuu1ZcCf11fiEubah0ttpca4ntM sha384-6V1/AdqZRWk1KAlWbKBlGhN7VG4iE/yAZcO6NZPMF8od0vukrvr0tg4qY6NSrItx" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="nav-sidebar docked nav-fixed quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">EODH Training Materials</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/orgs/EO-DataHub/repositories">
            Source Code
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/EO-DataHub/eodh-training/discussions">
            Community discussion
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Polar data</li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../website/about.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">Hub Platform</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../platform/1_Intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">EODH Platform Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../platform/2_Components.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">EODH Platform Components</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text">Simplifying access - pyeodh</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../api-client/1_ClientIntro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">What is pyeodh?</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../api-client/2_ResourceCatalog.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Using the Resource Catalogue</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../api-client/3_WorkflowRunner.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Running Workflows</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../api-client/4_Services.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Using Mapping Services</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false">
 <span class="menu-text">Creating Workflows - eoap-gen</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../workflows/1_Workflows.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Workflow Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../workflows/2_EOAP.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">EO App Packages</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../workflows/3_eoapgen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Using eoap-gen</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../workflows/4_UserExample1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">User Example: coherence</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../workflows/5_UserExample2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">User Example: temporal mosaics</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false">
 <span class="menu-text">GIS interface - QGIS plugin</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../plugin/1_introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">QGIS Plugin Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../plugin/2_Runningworkflows.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Running A Workflow</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../plugin/3_OtherTools.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Other Tools</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false">
 <span class="menu-text">Science &amp; code examples</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../science/1_Snippets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Code Snippets</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../science/2_Examples.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Climate Models</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false">
 <span class="menu-text">Presentations</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../presentations/DEFRA/1_202409_Defra_DataDiscovery.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DEFRA Data Discovery</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../presentations/DEFRA/2_202409_Defra_DataProcessing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DEFRA Data Processing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../presentations/DEFRA/3_202409_Defra_DataAnalysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DEFRA Data Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../presentations/DEFRA2/1_202412_Defra_Technology.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Space Horizon Scanning Network</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../presentations/videos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Recorded presentations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../presentations/Workshop/0_202502_workshop_SetUp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tester Workshop: Setup</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../presentations/Workshop/1_202502_workshop_DataDiscovery.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tester Workshop: Data Discovery</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../presentations/Workshop/2_202502_workshop_DataProcessing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tester Workshop: Data Processing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../presentations/Workshop/3_202502_workshop_DataVis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tester Workshop: Data Vis</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#imports" id="toc-imports" class="nav-link active" data-scroll-target="#imports">Imports</a></li>
  <li><a href="#set-geographic-locations" id="toc-set-geographic-locations" class="nav-link" data-scroll-target="#set-geographic-locations">Set geographic locations</a></li>
  <li><a href="#exploring-the-resource-catalogue" id="toc-exploring-the-resource-catalogue" class="nav-link" data-scroll-target="#exploring-the-resource-catalogue">Exploring the Resource Catalogue</a></li>
  <li><a href="#sea-ice" id="toc-sea-ice" class="nav-link" data-scroll-target="#sea-ice">Sea Ice</a></li>
  <li><a href="#sea-surface-temperature" id="toc-sea-surface-temperature" class="nav-link" data-scroll-target="#sea-surface-temperature">Sea Surface Temperature</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Polar data</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><strong>Description &amp; purpose</strong>: This Notebook is designed to demonstrate how to find and plot EOCIS related data held on the Earth Observation Data Hub.</p>
<p><strong>Author(s)</strong>: Alastair Graham, Dusan Figala, Daniel Westwood, Gemma Newbold</p>
<p><strong>Date created</strong>: 2025-12-10</p>
<p><strong>Date last modified</strong>: 2025-12-11</p>
<p><strong>Licence</strong>: This notebook is licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International</a>. The code is released using the <a href="https://www.tldrlegal.com/license/bsd-2-clause-license-freebsd">BSD-2-Clause</a> license.</p>
<p><span style="font-size:0.75em;"> Copyright (c) , All rights reserved.</span></p>
<p><span style="font-size:0.75em;"> Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span></p>
<p><span style="font-size:0.75em;"> Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution. THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS” AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></p>
<p>The first thing to do is ensure that the most recent version of <code>pyeodh</code> is installed on your system. It is good practice to run the following cell if you have not installed <code>pyeodh</code> or have not used it in a while. The cell will also install the plotting and spatial libraries required.</p>
<div id="cell-4" class="cell" data-scrolled="true" data-execution_count="1">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Run this cell if pyeodh is not installed, or needs updating</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>pip install <span class="op">--</span>upgrade pyeodh</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>pip install folium shapely xarray fsspec rioxarray cartopy pyproj</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Requirement already satisfied: pyeodh in /opt/conda/lib/python3.12/site-packages (0.1.4)
Collecting pyeodh
  Using cached pyeodh-0.1.7-py3-none-any.whl.metadata (1.7 kB)
Requirement already satisfied: ceda-datapoint&lt;0.5.0,&gt;=0.4.12 in /opt/conda/lib/python3.12/site-packages (from pyeodh) (0.4.12)
Requirement already satisfied: lxml==5.3.0 in /opt/conda/lib/python3.12/site-packages (from pyeodh) (5.3.0)
Requirement already satisfied: owslib&lt;0.32.0,&gt;=0.31.0 in /opt/conda/lib/python3.12/site-packages (from pyeodh) (0.31.0)
Requirement already satisfied: poetry&lt;2.0.0,&gt;=1.8.5 in /opt/conda/lib/python3.12/site-packages (from pyeodh) (1.8.5)
Requirement already satisfied: pystac&lt;2.0.0,&gt;=1.10.0 in /opt/conda/lib/python3.12/site-packages (from pyeodh) (1.13.0)
Requirement already satisfied: requests-oauthlib&lt;3.0.0,&gt;=2.0.0 in /opt/conda/lib/python3.12/site-packages (from pyeodh) (2.0.0)
Requirement already satisfied: zarr&lt;3,&gt;=2 in /opt/conda/lib/python3.12/site-packages (from pyeodh) (2.18.7)
Requirement already satisfied: aiohttp&lt;4.0.0,&gt;=3.11.7 in /opt/conda/lib/python3.12/site-packages (from ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (3.12.4)
Requirement already satisfied: cfapyx&lt;2026.0.0,&gt;=2025.2.27 in /opt/conda/lib/python3.12/site-packages (from ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (2025.3.18)
Requirement already satisfied: fsspec&lt;2025.0.0,&gt;=2024.9.0 in /opt/conda/lib/python3.12/site-packages (from ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (2024.12.0)
Requirement already satisfied: kerchunk&lt;0.3.0,&gt;=0.2.6 in /opt/conda/lib/python3.12/site-packages (from ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (0.2.7)
Requirement already satisfied: matplotlib&lt;4.0.0,&gt;=3.9.2 in /opt/conda/lib/python3.12/site-packages (from ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (3.10.3)
Requirement already satisfied: pystac-client&lt;0.8,&gt;=0.7 in /opt/conda/lib/python3.12/site-packages (from ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (0.7.7)
Requirement already satisfied: requests&lt;3.0.0,&gt;=2.32.3 in /opt/conda/lib/python3.12/site-packages (from ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (2.32.3)
Requirement already satisfied: rioxarray&lt;0.16.0,&gt;=0.15.0 in /opt/conda/lib/python3.12/site-packages (from ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (0.15.7)
Requirement already satisfied: xarray&lt;2025.0.0,&gt;=2024.6.0 in /opt/conda/lib/python3.12/site-packages (from ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (2024.11.0)
Requirement already satisfied: xdoctest&lt;2.0.0,&gt;=1.2.0 in /opt/conda/lib/python3.12/site-packages (from ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (1.2.0)
Requirement already satisfied: python-dateutil&gt;=1.5 in /opt/conda/lib/python3.12/site-packages (from owslib&lt;0.32.0,&gt;=0.31.0-&gt;pyeodh) (2.9.0.post0)
Requirement already satisfied: pytz in /opt/conda/lib/python3.12/site-packages (from owslib&lt;0.32.0,&gt;=0.31.0-&gt;pyeodh) (2025.1)
Requirement already satisfied: pyyaml in /opt/conda/lib/python3.12/site-packages (from owslib&lt;0.32.0,&gt;=0.31.0-&gt;pyeodh) (6.0.2)
Requirement already satisfied: build&lt;2.0.0,&gt;=1.0.3 in /opt/conda/lib/python3.12/site-packages (from poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (1.2.2.post1)
Requirement already satisfied: cachecontrol&lt;0.15.0,&gt;=0.14.0 in /opt/conda/lib/python3.12/site-packages (from cachecontrol[filecache]&lt;0.15.0,&gt;=0.14.0-&gt;poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (0.14.3)
Requirement already satisfied: cleo&lt;3.0.0,&gt;=2.1.0 in /opt/conda/lib/python3.12/site-packages (from poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (2.1.0)
Requirement already satisfied: crashtest&lt;0.5.0,&gt;=0.4.1 in /opt/conda/lib/python3.12/site-packages (from poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (0.4.1)
Requirement already satisfied: dulwich&lt;0.22.0,&gt;=0.21.2 in /opt/conda/lib/python3.12/site-packages (from poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (0.21.7)
Requirement already satisfied: fastjsonschema&lt;3.0.0,&gt;=2.18.0 in /opt/conda/lib/python3.12/site-packages (from poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (2.21.1)
Requirement already satisfied: installer&lt;0.8.0,&gt;=0.7.0 in /opt/conda/lib/python3.12/site-packages (from poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (0.7.0)
Requirement already satisfied: keyring&lt;25.0.0,&gt;=24.0.0 in /opt/conda/lib/python3.12/site-packages (from poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (24.3.1)
Requirement already satisfied: packaging&gt;=23.1 in /opt/conda/lib/python3.12/site-packages (from poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (24.2)
Requirement already satisfied: pexpect&lt;5.0.0,&gt;=4.7.0 in /opt/conda/lib/python3.12/site-packages (from poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (4.9.0)
Requirement already satisfied: pkginfo&lt;2.0,&gt;=1.12 in /opt/conda/lib/python3.12/site-packages (from poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (1.12.1.2)
Requirement already satisfied: platformdirs&lt;5,&gt;=3.0.0 in /opt/conda/lib/python3.12/site-packages (from poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (4.3.6)
Requirement already satisfied: poetry-core==1.9.1 in /opt/conda/lib/python3.12/site-packages (from poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (1.9.1)
Requirement already satisfied: poetry-plugin-export&lt;2.0.0,&gt;=1.6.0 in /opt/conda/lib/python3.12/site-packages (from poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (1.8.0)
Requirement already satisfied: pyproject-hooks&lt;2.0.0,&gt;=1.0.0 in /opt/conda/lib/python3.12/site-packages (from poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (1.2.0)
Requirement already satisfied: requests-toolbelt&lt;2.0.0,&gt;=1.0.0 in /opt/conda/lib/python3.12/site-packages (from poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (1.0.0)
Requirement already satisfied: shellingham&lt;2.0,&gt;=1.5 in /opt/conda/lib/python3.12/site-packages (from poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (1.5.4)
Requirement already satisfied: tomlkit&lt;1.0.0,&gt;=0.11.4 in /opt/conda/lib/python3.12/site-packages (from poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (0.13.2)
Requirement already satisfied: trove-classifiers&gt;=2022.5.19 in /opt/conda/lib/python3.12/site-packages (from poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (2025.5.9.12)
Requirement already satisfied: virtualenv&lt;21.0.0,&gt;=20.26.6 in /opt/conda/lib/python3.12/site-packages (from poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (20.31.2)
Requirement already satisfied: oauthlib&gt;=3.0.0 in /opt/conda/lib/python3.12/site-packages (from requests-oauthlib&lt;3.0.0,&gt;=2.0.0-&gt;pyeodh) (3.2.2)
Requirement already satisfied: asciitree in /opt/conda/lib/python3.12/site-packages (from zarr&lt;3,&gt;=2-&gt;pyeodh) (0.3.3)
Requirement already satisfied: numpy&gt;=1.24 in /opt/conda/lib/python3.12/site-packages (from zarr&lt;3,&gt;=2-&gt;pyeodh) (1.26.4)
Requirement already satisfied: fasteners in /opt/conda/lib/python3.12/site-packages (from zarr&lt;3,&gt;=2-&gt;pyeodh) (0.19)
Requirement already satisfied: numcodecs!=0.14.0,!=0.14.1,&lt;0.16,&gt;=0.10.0 in /opt/conda/lib/python3.12/site-packages (from zarr&lt;3,&gt;=2-&gt;pyeodh) (0.15.1)
Requirement already satisfied: aiohappyeyeballs&gt;=2.5.0 in /opt/conda/lib/python3.12/site-packages (from aiohttp&lt;4.0.0,&gt;=3.11.7-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (2.6.1)
Requirement already satisfied: aiosignal&gt;=1.1.2 in /opt/conda/lib/python3.12/site-packages (from aiohttp&lt;4.0.0,&gt;=3.11.7-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (1.3.2)
Requirement already satisfied: attrs&gt;=17.3.0 in /opt/conda/lib/python3.12/site-packages (from aiohttp&lt;4.0.0,&gt;=3.11.7-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (25.1.0)
Requirement already satisfied: frozenlist&gt;=1.1.1 in /opt/conda/lib/python3.12/site-packages (from aiohttp&lt;4.0.0,&gt;=3.11.7-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (1.6.0)
Requirement already satisfied: multidict&lt;7.0,&gt;=4.5 in /opt/conda/lib/python3.12/site-packages (from aiohttp&lt;4.0.0,&gt;=3.11.7-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (6.4.4)
Requirement already satisfied: propcache&gt;=0.2.0 in /opt/conda/lib/python3.12/site-packages (from aiohttp&lt;4.0.0,&gt;=3.11.7-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (0.3.1)
Requirement already satisfied: yarl&lt;2.0,&gt;=1.17.0 in /opt/conda/lib/python3.12/site-packages (from aiohttp&lt;4.0.0,&gt;=3.11.7-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (1.20.0)
Requirement already satisfied: msgpack&lt;2.0.0,&gt;=0.5.2 in /opt/conda/lib/python3.12/site-packages (from cachecontrol&lt;0.15.0,&gt;=0.14.0-&gt;cachecontrol[filecache]&lt;0.15.0,&gt;=0.14.0-&gt;poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (1.1.0)
Requirement already satisfied: filelock&gt;=3.8.0 in /opt/conda/lib/python3.12/site-packages (from cachecontrol[filecache]&lt;0.15.0,&gt;=0.14.0-&gt;poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (3.18.0)
Requirement already satisfied: arraypartition&lt;2.0.0,&gt;=1.1.2 in /opt/conda/lib/python3.12/site-packages (from cfapyx&lt;2026.0.0,&gt;=2025.2.27-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (1.1.2)
Requirement already satisfied: dask&lt;2025,&gt;=2024 in /opt/conda/lib/python3.12/site-packages (from cfapyx&lt;2026.0.0,&gt;=2025.2.27-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (2024.12.1)
Requirement already satisfied: netCDF4&lt;=1.6.5 in /opt/conda/lib/python3.12/site-packages (from cfapyx&lt;2026.0.0,&gt;=2025.2.27-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (1.6.5)
Requirement already satisfied: rapidfuzz&lt;4.0.0,&gt;=3.0.0 in /opt/conda/lib/python3.12/site-packages (from cleo&lt;3.0.0,&gt;=2.1.0-&gt;poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (3.13.0)
Requirement already satisfied: urllib3&gt;=1.25 in /opt/conda/lib/python3.12/site-packages (from dulwich&lt;0.22.0,&gt;=0.21.2-&gt;poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (2.3.0)
Requirement already satisfied: ujson in /opt/conda/lib/python3.12/site-packages (from kerchunk&lt;0.3.0,&gt;=0.2.6-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (5.10.0)
Requirement already satisfied: jaraco.classes in /opt/conda/lib/python3.12/site-packages (from keyring&lt;25.0.0,&gt;=24.0.0-&gt;poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (3.4.0)
Requirement already satisfied: SecretStorage&gt;=3.2 in /opt/conda/lib/python3.12/site-packages (from keyring&lt;25.0.0,&gt;=24.0.0-&gt;poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (3.3.3)
Requirement already satisfied: jeepney&gt;=0.4.2 in /opt/conda/lib/python3.12/site-packages (from keyring&lt;25.0.0,&gt;=24.0.0-&gt;poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (0.9.0)
Requirement already satisfied: contourpy&gt;=1.0.1 in /opt/conda/lib/python3.12/site-packages (from matplotlib&lt;4.0.0,&gt;=3.9.2-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (1.3.2)
Requirement already satisfied: cycler&gt;=0.10 in /opt/conda/lib/python3.12/site-packages (from matplotlib&lt;4.0.0,&gt;=3.9.2-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (0.12.1)
Requirement already satisfied: fonttools&gt;=4.22.0 in /opt/conda/lib/python3.12/site-packages (from matplotlib&lt;4.0.0,&gt;=3.9.2-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (4.58.1)
Requirement already satisfied: kiwisolver&gt;=1.3.1 in /opt/conda/lib/python3.12/site-packages (from matplotlib&lt;4.0.0,&gt;=3.9.2-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (1.4.8)
Requirement already satisfied: pillow&gt;=8 in /opt/conda/lib/python3.12/site-packages (from matplotlib&lt;4.0.0,&gt;=3.9.2-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (11.2.1)
Requirement already satisfied: pyparsing&gt;=2.3.1 in /opt/conda/lib/python3.12/site-packages (from matplotlib&lt;4.0.0,&gt;=3.9.2-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (3.2.3)
Requirement already satisfied: deprecated in /opt/conda/lib/python3.12/site-packages (from numcodecs!=0.14.0,!=0.14.1,&lt;0.16,&gt;=0.10.0-&gt;zarr&lt;3,&gt;=2-&gt;pyeodh) (1.2.18)
Requirement already satisfied: ptyprocess&gt;=0.5 in /opt/conda/lib/python3.12/site-packages (from pexpect&lt;5.0.0,&gt;=4.7.0-&gt;poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (0.7.0)
Requirement already satisfied: six&gt;=1.5 in /opt/conda/lib/python3.12/site-packages (from python-dateutil&gt;=1.5-&gt;owslib&lt;0.32.0,&gt;=0.31.0-&gt;pyeodh) (1.17.0)
Requirement already satisfied: charset_normalizer&lt;4,&gt;=2 in /opt/conda/lib/python3.12/site-packages (from requests&lt;3.0.0,&gt;=2.32.3-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (3.4.1)
Requirement already satisfied: idna&lt;4,&gt;=2.5 in /opt/conda/lib/python3.12/site-packages (from requests&lt;3.0.0,&gt;=2.32.3-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (3.10)
Requirement already satisfied: certifi&gt;=2017.4.17 in /opt/conda/lib/python3.12/site-packages (from requests&lt;3.0.0,&gt;=2.32.3-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (2024.12.14)
Requirement already satisfied: rasterio&gt;=1.3 in /opt/conda/lib/python3.12/site-packages (from rioxarray&lt;0.16.0,&gt;=0.15.0-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (1.4.3)
Requirement already satisfied: pyproj&gt;=3.3 in /opt/conda/lib/python3.12/site-packages (from rioxarray&lt;0.16.0,&gt;=0.15.0-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (3.7.1)
Requirement already satisfied: distlib&lt;1,&gt;=0.3.7 in /opt/conda/lib/python3.12/site-packages (from virtualenv&lt;21.0.0,&gt;=20.26.6-&gt;poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (0.3.9)
Requirement already satisfied: pandas&gt;=2.1 in /opt/conda/lib/python3.12/site-packages (from xarray&lt;2025.0.0,&gt;=2024.6.0-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (2.2.3)
Requirement already satisfied: click&gt;=8.1 in /opt/conda/lib/python3.12/site-packages (from dask&lt;2025,&gt;=2024-&gt;cfapyx&lt;2026.0.0,&gt;=2025.2.27-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (8.2.1)
Requirement already satisfied: cloudpickle&gt;=3.0.0 in /opt/conda/lib/python3.12/site-packages (from dask&lt;2025,&gt;=2024-&gt;cfapyx&lt;2026.0.0,&gt;=2025.2.27-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (3.1.1)
Requirement already satisfied: partd&gt;=1.4.0 in /opt/conda/lib/python3.12/site-packages (from dask&lt;2025,&gt;=2024-&gt;cfapyx&lt;2026.0.0,&gt;=2025.2.27-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (1.4.2)
Requirement already satisfied: toolz&gt;=0.10.0 in /opt/conda/lib/python3.12/site-packages (from dask&lt;2025,&gt;=2024-&gt;cfapyx&lt;2026.0.0,&gt;=2025.2.27-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (1.0.0)
Requirement already satisfied: cftime in /opt/conda/lib/python3.12/site-packages (from netCDF4&lt;=1.6.5-&gt;cfapyx&lt;2026.0.0,&gt;=2025.2.27-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (1.6.4.post1)
Requirement already satisfied: tzdata&gt;=2022.7 in /opt/conda/lib/python3.12/site-packages (from pandas&gt;=2.1-&gt;xarray&lt;2025.0.0,&gt;=2024.6.0-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (2025.2)
Requirement already satisfied: jsonschema~=4.18 in /opt/conda/lib/python3.12/site-packages (from pystac[validation]&gt;=1.10.0-&gt;pystac-client&lt;0.8,&gt;=0.7-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (4.23.0)
Requirement already satisfied: affine in /opt/conda/lib/python3.12/site-packages (from rasterio&gt;=1.3-&gt;rioxarray&lt;0.16.0,&gt;=0.15.0-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (2.4.0)
Requirement already satisfied: cligj&gt;=0.5 in /opt/conda/lib/python3.12/site-packages (from rasterio&gt;=1.3-&gt;rioxarray&lt;0.16.0,&gt;=0.15.0-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (0.7.2)
Requirement already satisfied: click-plugins in /opt/conda/lib/python3.12/site-packages (from rasterio&gt;=1.3-&gt;rioxarray&lt;0.16.0,&gt;=0.15.0-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (1.1.1)
Requirement already satisfied: cryptography&gt;=2.0 in /opt/conda/lib/python3.12/site-packages (from SecretStorage&gt;=3.2-&gt;keyring&lt;25.0.0,&gt;=24.0.0-&gt;poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (44.0.0)
Requirement already satisfied: wrapt&lt;2,&gt;=1.10 in /opt/conda/lib/python3.12/site-packages (from deprecated-&gt;numcodecs!=0.14.0,!=0.14.1,&lt;0.16,&gt;=0.10.0-&gt;zarr&lt;3,&gt;=2-&gt;pyeodh) (1.17.2)
Requirement already satisfied: more-itertools in /opt/conda/lib/python3.12/site-packages (from jaraco.classes-&gt;keyring&lt;25.0.0,&gt;=24.0.0-&gt;poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (10.7.0)
Requirement already satisfied: cffi&gt;=1.12 in /opt/conda/lib/python3.12/site-packages (from cryptography&gt;=2.0-&gt;SecretStorage&gt;=3.2-&gt;keyring&lt;25.0.0,&gt;=24.0.0-&gt;poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (1.17.1)
Requirement already satisfied: jsonschema-specifications&gt;=2023.03.6 in /opt/conda/lib/python3.12/site-packages (from jsonschema~=4.18-&gt;pystac[validation]&gt;=1.10.0-&gt;pystac-client&lt;0.8,&gt;=0.7-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (2023.7.1)
Requirement already satisfied: referencing&gt;=0.28.4 in /opt/conda/lib/python3.12/site-packages (from jsonschema~=4.18-&gt;pystac[validation]&gt;=1.10.0-&gt;pystac-client&lt;0.8,&gt;=0.7-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (0.30.2)
Requirement already satisfied: rpds-py&gt;=0.7.1 in /opt/conda/lib/python3.12/site-packages (from jsonschema~=4.18-&gt;pystac[validation]&gt;=1.10.0-&gt;pystac-client&lt;0.8,&gt;=0.7-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (0.22.3)
Requirement already satisfied: locket in /opt/conda/lib/python3.12/site-packages (from partd&gt;=1.4.0-&gt;dask&lt;2025,&gt;=2024-&gt;cfapyx&lt;2026.0.0,&gt;=2025.2.27-&gt;ceda-datapoint&lt;0.5.0,&gt;=0.4.12-&gt;pyeodh) (1.0.0)
Requirement already satisfied: pycparser in /opt/conda/lib/python3.12/site-packages (from cffi&gt;=1.12-&gt;cryptography&gt;=2.0-&gt;SecretStorage&gt;=3.2-&gt;keyring&lt;25.0.0,&gt;=24.0.0-&gt;poetry&lt;2.0.0,&gt;=1.8.5-&gt;pyeodh) (2.22)
Using cached pyeodh-0.1.7-py3-none-any.whl (22 kB)
Installing collected packages: pyeodh
  Attempting uninstall: pyeodh
    Found existing installation: pyeodh 0.1.4
    Uninstalling pyeodh-0.1.4:
      Successfully uninstalled pyeodh-0.1.4
Successfully installed pyeodh-0.1.7
Collecting folium
  Using cached folium-0.20.0-py2.py3-none-any.whl.metadata (4.2 kB)
Requirement already satisfied: shapely in /opt/conda/lib/python3.12/site-packages (2.0.7)
Requirement already satisfied: xarray in /opt/conda/lib/python3.12/site-packages (2024.11.0)
Requirement already satisfied: fsspec in /opt/conda/lib/python3.12/site-packages (2024.12.0)
Requirement already satisfied: rioxarray in /opt/conda/lib/python3.12/site-packages (0.15.7)
Collecting cartopy
  Using cached cartopy-0.25.0-cp312-cp312-manylinux_2_24_x86_64.manylinux_2_28_x86_64.whl.metadata (6.1 kB)
Requirement already satisfied: pyproj in /opt/conda/lib/python3.12/site-packages (3.7.1)
Collecting branca&gt;=0.6.0 (from folium)
  Using cached branca-0.8.2-py3-none-any.whl.metadata (1.7 kB)
Requirement already satisfied: jinja2&gt;=2.9 in /opt/conda/lib/python3.12/site-packages (from folium) (3.1.5)
Requirement already satisfied: numpy in /opt/conda/lib/python3.12/site-packages (from folium) (1.26.4)
Requirement already satisfied: requests in /opt/conda/lib/python3.12/site-packages (from folium) (2.32.3)
Collecting xyzservices (from folium)
  Using cached xyzservices-2025.11.0-py3-none-any.whl.metadata (4.3 kB)
Requirement already satisfied: packaging&gt;=23.2 in /opt/conda/lib/python3.12/site-packages (from xarray) (24.2)
Requirement already satisfied: pandas&gt;=2.1 in /opt/conda/lib/python3.12/site-packages (from xarray) (2.2.3)
Requirement already satisfied: rasterio&gt;=1.3 in /opt/conda/lib/python3.12/site-packages (from rioxarray) (1.4.3)
Requirement already satisfied: matplotlib&gt;=3.6 in /opt/conda/lib/python3.12/site-packages (from cartopy) (3.10.3)
Collecting pyshp&gt;=2.3 (from cartopy)
  Using cached pyshp-3.0.3-py3-none-any.whl.metadata (65 kB)
Requirement already satisfied: certifi in /opt/conda/lib/python3.12/site-packages (from pyproj) (2024.12.14)
Requirement already satisfied: MarkupSafe&gt;=2.0 in /opt/conda/lib/python3.12/site-packages (from jinja2&gt;=2.9-&gt;folium) (3.0.2)
Requirement already satisfied: contourpy&gt;=1.0.1 in /opt/conda/lib/python3.12/site-packages (from matplotlib&gt;=3.6-&gt;cartopy) (1.3.2)
Requirement already satisfied: cycler&gt;=0.10 in /opt/conda/lib/python3.12/site-packages (from matplotlib&gt;=3.6-&gt;cartopy) (0.12.1)
Requirement already satisfied: fonttools&gt;=4.22.0 in /opt/conda/lib/python3.12/site-packages (from matplotlib&gt;=3.6-&gt;cartopy) (4.58.1)
Requirement already satisfied: kiwisolver&gt;=1.3.1 in /opt/conda/lib/python3.12/site-packages (from matplotlib&gt;=3.6-&gt;cartopy) (1.4.8)
Requirement already satisfied: pillow&gt;=8 in /opt/conda/lib/python3.12/site-packages (from matplotlib&gt;=3.6-&gt;cartopy) (11.2.1)
Requirement already satisfied: pyparsing&gt;=2.3.1 in /opt/conda/lib/python3.12/site-packages (from matplotlib&gt;=3.6-&gt;cartopy) (3.2.3)
Requirement already satisfied: python-dateutil&gt;=2.7 in /opt/conda/lib/python3.12/site-packages (from matplotlib&gt;=3.6-&gt;cartopy) (2.9.0.post0)
Requirement already satisfied: pytz&gt;=2020.1 in /opt/conda/lib/python3.12/site-packages (from pandas&gt;=2.1-&gt;xarray) (2025.1)
Requirement already satisfied: tzdata&gt;=2022.7 in /opt/conda/lib/python3.12/site-packages (from pandas&gt;=2.1-&gt;xarray) (2025.2)
Requirement already satisfied: affine in /opt/conda/lib/python3.12/site-packages (from rasterio&gt;=1.3-&gt;rioxarray) (2.4.0)
Requirement already satisfied: attrs in /opt/conda/lib/python3.12/site-packages (from rasterio&gt;=1.3-&gt;rioxarray) (25.1.0)
Requirement already satisfied: click&gt;=4.0 in /opt/conda/lib/python3.12/site-packages (from rasterio&gt;=1.3-&gt;rioxarray) (8.2.1)
Requirement already satisfied: cligj&gt;=0.5 in /opt/conda/lib/python3.12/site-packages (from rasterio&gt;=1.3-&gt;rioxarray) (0.7.2)
Requirement already satisfied: click-plugins in /opt/conda/lib/python3.12/site-packages (from rasterio&gt;=1.3-&gt;rioxarray) (1.1.1)
Requirement already satisfied: charset_normalizer&lt;4,&gt;=2 in /opt/conda/lib/python3.12/site-packages (from requests-&gt;folium) (3.4.1)
Requirement already satisfied: idna&lt;4,&gt;=2.5 in /opt/conda/lib/python3.12/site-packages (from requests-&gt;folium) (3.10)
Requirement already satisfied: urllib3&lt;3,&gt;=1.21.1 in /opt/conda/lib/python3.12/site-packages (from requests-&gt;folium) (2.3.0)
Requirement already satisfied: six&gt;=1.5 in /opt/conda/lib/python3.12/site-packages (from python-dateutil&gt;=2.7-&gt;matplotlib&gt;=3.6-&gt;cartopy) (1.17.0)
Using cached folium-0.20.0-py2.py3-none-any.whl (113 kB)
Using cached cartopy-0.25.0-cp312-cp312-manylinux_2_24_x86_64.manylinux_2_28_x86_64.whl (11.8 MB)
Using cached branca-0.8.2-py3-none-any.whl (26 kB)
Using cached pyshp-3.0.3-py3-none-any.whl (58 kB)
Using cached xyzservices-2025.11.0-py3-none-any.whl (93 kB)
Installing collected packages: xyzservices, pyshp, branca, folium, cartopy
Successfully installed branca-0.8.2 cartopy-0.25.0 folium-0.20.0 pyshp-3.0.3 xyzservices-2025.11.0</code></pre>
</div>
</div>
<section id="imports" class="level1">
<h1>Imports</h1>
<div id="cell-6" class="cell" data-execution_count="2">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pyeodh</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> cartopy.crs <span class="im">as</span> ccrs</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> folium</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> fsspec</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> geopandas <span class="im">as</span> gpd</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> rioxarray</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> shapely <span class="im">as</span> sh</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> xarray <span class="im">as</span> xr</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pyproj <span class="im">import</span> Transformer</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> shapely.geometry <span class="im">import</span> Point</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="set-geographic-locations" class="level1">
<h1>Set geographic locations</h1>
<div id="cell-8" class="cell" data-execution_count="3">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Point of interest - ice/land (Nuuk, Greenland)</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>ipnt <span class="op">=</span> sh.Point(<span class="op">-</span><span class="fl">51.7216</span>, <span class="fl">64.1835</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Point of interest - ocean (Baffin Bay, Greenland)</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>olon, olat <span class="op">=</span> [<span class="op">-</span><span class="fl">54.22884</span>, <span class="fl">83.11055</span>]</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>opnt <span class="op">=</span> sh.Point(olon, olat)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="cell-9" class="cell" data-execution_count="4">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a folium map centred between the points</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> folium.Map(location<span class="op">=</span>[(ipnt.y <span class="op">+</span> opnt.y)<span class="op">/</span><span class="dv">2</span>, (ipnt.x <span class="op">+</span> opnt.x)<span class="op">/</span><span class="dv">2</span>], zoom_start<span class="op">=</span><span class="dv">3</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Add points to the map</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> pt, name <span class="kw">in</span> [(ipnt, <span class="st">"Nuuk"</span>), (opnt, <span class="st">"Arctic Ocean"</span>)]:</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    folium.Marker([pt.y, pt.x], popup<span class="op">=</span>name).add_to(m)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>m</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -&gt; Trust Notebook</span><iframe srcdoc="<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; />
    <script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;></script>
    <script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;></script>
    <script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;></script>
    <script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;></script>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/>
    
            <meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; />
            <style>
                #map_668c52f1b1f05c838e048cb475c19753 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>

            <style>html, body {
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
            }
            </style>

            <style>#map {
                position:absolute;
                top:0;
                bottom:0;
                right:0;
                left:0;
                }
            </style>

            <script>
                L_NO_TOUCH = false;
                L_DISABLE_3D = false;
            </script>

        
</head>
<body>
    
    
            <div class=&quot;folium-map&quot; id=&quot;map_668c52f1b1f05c838e048cb475c19753&quot; ></div>
        
</body>
<script>
    
    
            var map_668c52f1b1f05c838e048cb475c19753 = L.map(
                &quot;map_668c52f1b1f05c838e048cb475c19753&quot;,
                {
                    center: [73.647025, -52.97522],
                    crs: L.CRS.EPSG3857,
                    ...{
  &quot;zoom&quot;: 3,
  &quot;zoomControl&quot;: true,
  &quot;preferCanvas&quot;: false,
}

                }
            );

            

        
    
            var tile_layer_4c29fd9a2bdee0760258b518f0feade6 = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {
  &quot;minZoom&quot;: 0,
  &quot;maxZoom&quot;: 19,
  &quot;maxNativeZoom&quot;: 19,
  &quot;noWrap&quot;: false,
  &quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;,
  &quot;subdomains&quot;: &quot;abc&quot;,
  &quot;detectRetina&quot;: false,
  &quot;tms&quot;: false,
  &quot;opacity&quot;: 1,
}

            );
        
    
            tile_layer_4c29fd9a2bdee0760258b518f0feade6.addTo(map_668c52f1b1f05c838e048cb475c19753);
        
    
            var marker_f65a5c3569ce4f26c3738adb7e47b812 = L.marker(
                [64.1835, -51.7216],
                {
}
            ).addTo(map_668c52f1b1f05c838e048cb475c19753);
        
    
        var popup_ba945af8c5c18d52170acedb539d4801 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_e35bce90ac80bfa67a58f294bd00e691 = $(`<div id=&quot;html_e35bce90ac80bfa67a58f294bd00e691&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Nuuk</div>`)[0];
                popup_ba945af8c5c18d52170acedb539d4801.setContent(html_e35bce90ac80bfa67a58f294bd00e691);
            
        

        marker_f65a5c3569ce4f26c3738adb7e47b812.bindPopup(popup_ba945af8c5c18d52170acedb539d4801)
        ;

        
    
    
            var marker_805aaf14ca1cd0049461a34ea5f35192 = L.marker(
                [83.11055, -54.22884],
                {
}
            ).addTo(map_668c52f1b1f05c838e048cb475c19753);
        
    
        var popup_4ed238d56ba799d241c39e23d2543032 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_4557b9d496a7cb8ab56fb20d8be1b99a = $(`<div id=&quot;html_4557b9d496a7cb8ab56fb20d8be1b99a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Arctic Ocean</div>`)[0];
                popup_4ed238d56ba799d241c39e23d2543032.setContent(html_4557b9d496a7cb8ab56fb20d8be1b99a);
            
        

        marker_805aaf14ca1cd0049461a34ea5f35192.bindPopup(popup_4ed238d56ba799d241c39e23d2543032)
        ;

        
    
</script>
</html>" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe></div></div>
</div>
</div>
</section>
<section id="exploring-the-resource-catalogue" class="level1">
<h1>Exploring the Resource Catalogue</h1>
<p>Now we are ready to investigate the Resource Catalogue.</p>
<p>We need to create an instance of the <code>Client</code>, which is our entrypoint to EODH APIs. From there we can start to search the collections held within the platform. First we’ll look at the paths to the data.</p>
<div id="cell-12" class="cell" data-execution_count="5">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Connect to the Hub</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>client <span class="op">=</span> pyeodh.Client(base_url<span class="op">=</span><span class="st">"https://eodatahub.org.uk"</span>).get_catalog_service()</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> c <span class="kw">in</span> client.get_catalogs():</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(c._pystac_object.self_href.removeprefix(<span class="st">"https://eodatahub.org.uk/api/catalogue/stac/catalogs/"</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>commercial/catalogs/airbus
user/catalogs/npl/catalogs/processing-results/catalogs/qa-workflow/catalogs/airbus_phr_qa
user/catalogs/tjellicoetpzuk/catalogs/processing-results/catalogs/snuggs/catalogs/catalog
public/catalogs/ceda-stac-catalogue
commercial
user/catalogs/npl
commercial/catalogs/planet
user/catalogs/npl/catalogs/processing-results/catalogs/qa-workflow/catalogs/planet_psscene_qa
user/catalogs/npl/catalogs/processing-results
user/catalogs/tjellicoetpzuk/catalogs/processing-results</code></pre>
</div>
</div>
<p>Now we’ll look explicitly for the EOCIS climate data.</p>
<div id="cell-14" class="cell" data-execution_count="6">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, collect <span class="kw">in</span> <span class="bu">enumerate</span>(</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>        [c <span class="cf">for</span> c <span class="kw">in</span> client.get_collections() <span class="cf">if</span> <span class="st">"eocis"</span> <span class="kw">in</span> c.<span class="bu">id</span>],</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>        start<span class="op">=</span><span class="dv">1</span>):</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>index<span class="sc">}</span><span class="ss"> -- </span><span class="sc">{</span>collect<span class="sc">.</span><span class="bu">id</span><span class="sc">}</span><span class="ss">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>1 -- eocis-sst-cdrv3
2 -- eocis-soil-moisture-africa
3 -- eocis-lst-s3b-night
4 -- eocis-lst-s3b-day
5 -- eocis-lst-s3a-night
6 -- eocis-lst-s3a-day
7 -- eocis-chuk-land-vegetation-lai
8 -- eocis-chuk-land-vegetation-fapar
9 -- eocis-chuk-geospatial-landcover
10 -- eocis-chuk-geospatial-elevation
11 -- eocis-chuk-geospatial-builtarea
12 -- eocis-chuk-geospatial
13 -- eocis-arctic-sea-ice-thickness-monthly</code></pre>
</div>
</div>
</section>
<section id="sea-ice" class="level1">
<h1>Sea Ice</h1>
<p>Note: For additional details see this <a href="https://www.cpom.ucl.ac.uk/eocis/seaice/product_info.php">link</a>.</p>
<p>We need to connect to the Sea Ice collection and get some simple information about it</p>
<div id="cell-17" class="cell" data-execution_count="7">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>datasets <span class="op">=</span> client.get_catalog(</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"public/catalogs/ceda-stac-catalogue"</span>).get_collection(</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'eocis-arctic-sea-ice-thickness-monthly'</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"id: "</span>, datasets.<span class="bu">id</span>)</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"title: "</span>, datasets.title)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"description: "</span>, datasets.description)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">""</span>)</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"DATASET TEMPORAL EXTENT: "</span>,</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>    [<span class="bu">str</span>(d) <span class="cf">for</span> d <span class="kw">in</span> datasets.extent.temporal.intervals[<span class="dv">0</span>]],</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>id:  eocis-arctic-sea-ice-thickness-monthly
title:  EOCIS Arctic Monthly Gridded Sea Ice Thickness Product from CryoSat-2
description:  The sea ice products provide a 5x5 km grid of Arctic sea ice thickness (for the whole Arctic region and of 17 sub-regions), delivered as NetCDF files.  EOCIS sea ice thickness NetCDF products are generated monthly by the Centre for Polar Observation and Modelling (CPOM) from radar altimetry measurements taken from the ESA CryoSAT-2 satellite during the winter months (Oct-Apr). Sea ice thickness is only reliably measured from satellite radar altimetry during the winter months. During summer, melt ponds can form on the sea ice floes making it difficult for the satellite to differentiate between floes and leads, and hence calculate sea ice freeboard (and subsequently thickness). Measurement during summer months using radar altimetry is an area of active research (Landy et al, 2022) but is not yet operationally processed.

DATASET TEMPORAL EXTENT:  ['2010-11-15 00:00:00+00:00', '2024-11-15 00:00:00+00:00']</code></pre>
</div>
</div>
<p>It would be useful to understand more about the items that are held within the catalogue. The attributes of a catalogue are mapped to a series of properties. For instance, we can find out the properties such as<code>id</code>, <code>title</code> and <code>description</code>.</p>
<div id="cell-19" class="cell" data-execution_count="8">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Now we want to access the first item and see what properties are available. Need to convert an iterator to a list first. </span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>items <span class="op">=</span> <span class="bu">list</span>(datasets.get_items())</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Number of items available: "</span>, <span class="bu">len</span>(items))</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (<span class="st">"-----"</span>)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>item <span class="op">=</span> items[<span class="dv">1</span>]   <span class="co"># second item</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="sc">{</span>item<span class="sc">.</span><span class="bu">id</span><span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> k, v <span class="kw">in</span> item.properties.items():</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"  </span><span class="sc">{</span>k<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>v<span class="sc">}</span><span class="ss">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Number of items available:  198
-----

0a2cdd11-d4e1-4806-ab4f-1a66849cf30a
  title: EOCIS Arctic Monthly Gridded Sea Ice Thickness 2024-11-15
  description: The sea ice products provide a 5x5 km grid of Arctic sea ice thickness (for the whole Arctic region and of 17 sub-regions), delivered as NetCDF files.  EOCIS sea ice thickness NetCDF products are generated monthly by the Centre for Polar Observation and Modelling (CPOM) from radar altimetry measurements taken from the ESA CryoSAT-2 satellite during the winter months (Oct-Apr). Sea ice thickness is only reliably measured from satellite radar altimetry during the winter months. During summer, melt ponds can form on the sea ice floes making it difficult for the satellite to differentiate between floes and leads, and hence calculate sea ice freeboard (and subsequently thickness). Measurement during summer months using radar altimetry is an area of active research (Landy et al, 2022) but is not yet operationally processed.
  datetime: 2024-11-15T00:00:00Z
  created: 2025-10-09T10:39:36.790911Z
  updated: 2025-10-09T10:39:36.790911Z
  license: cc-by-4.0
  platform: CryoSat-2
  instruments: ['SIRAL']
  sci:doi: https://dx.doi.org/10.5285/4c246cb11aa04651a0182b2d329a84f9
  sci:citation: Ridout, A.; Palmer, B.; Muir, A.; Swiggs, A.; McMillan, M.; Maddalena, J. (2025): EOCIS: Arctic Sea Ice Thickness Grids, v1.00. NERC EDS Centre for Environmental Data Analysis, 20 March 2025. doi:10.5285/4c246cb11aa04651a0182b2d329a84f9.
  sci:publications: []
  cube:dimensions: {'xc': {'type': 'spatial', 'axis': 'xc', 'extent': [-3850000, 3749999], 'reference_system': 3413, 'unit': 'm'}, 'yc': {'type': 'spatial', 'axis': 'yc', 'extent': [-5350000, 5849999], 'reference_system': 3413, 'unit': 'm'}, 'time': {'type': 'temporal', 'step': 'P1M', 'values': ['2024-11-15T00:00:00Z']}}
  cube:variables: {'sea_ice_thickness': {'description': 'sea ice thickness', 'dimensions': ['time', 'yc', 'xc'], 'type': 'data', 'unit': 'm'}, 'sea_ice_thickness_stdev': {'description': 'standard deviation of sea ice thickness, defined as the standard deviation of the thickness in the grid cell', 'dimensions': ['time', 'yc', 'xc'], 'type': 'data', 'unit': 'm'}, 'n_thickness_measurements': {'description': 'number of contributing thickness measurements', 'dimensions': ['time', 'yc', 'xc'], 'type': 'auxiliary'}}
  renders: {'sea_ice_thickness': {'title': 'Sea Ice Thickness', 'assets': ['reference_file'], 'reference': True, 'variable': 'sea_ice_thickness', 'colormap_name': 'blues_r', 'rescale': [0, 3.5]}, 'sea_ice_thickness_stdev': {'title': 'Standard deviation of Sea Ice Thickness', 'assets': ['reference_file'], 'reference': True, 'variable': 'sea_ice_thickness_stdev', 'colormap_name': 'viridis', 'rescale': [0, 2]}}
  project: UK Earth Observation Climate Information Service (EOCIS)
  institution: EOCIS UK
  resolution: 5 km</code></pre>
</div>
</div>
<p>We can then get the item id, date and name for all items. It is recommended to only look at the first few as the number of items could be large.</p>
<div id="cell-21" class="cell" data-execution_count="9">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Warning: without the limit to 10 items this will take a long time for large catalogues</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> item <span class="kw">in</span> datasets.get_items()[:<span class="dv">10</span>]:</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(item.<span class="bu">id</span>, <span class="st">"---"</span>, item.properties[<span class="st">"datetime"</span>], <span class="st">"---"</span>, item.properties[<span class="st">"title"</span>])</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>ea60feff-3a21-49d1-b79f-9179c052cfc0 --- 2024-11-15T00:00:00Z --- EOCIS Sea-Surface Temperatures V3 2024-11-15
0a2cdd11-d4e1-4806-ab4f-1a66849cf30a --- 2024-11-15T00:00:00Z --- EOCIS Arctic Monthly Gridded Sea Ice Thickness 2024-11-15
f2a5764b-5f1e-4011-a8c2-d1eb75995d3b --- 2024-10-15T00:00:00Z --- EOCIS Sea-Surface Temperatures V3 2024-10-15
c2a3829e-ea0c-4379-be8c-da4f7e0e6c07 --- 2024-10-15T00:00:00Z --- EOCIS Arctic Monthly Gridded Sea Ice Thickness 2024-10-15
f476f3a5-14ca-4055-9b4d-d735946338ff --- 2024-04-15T00:00:00Z --- EOCIS Arctic Monthly Gridded Sea Ice Thickness 2024-04-15
d3ee4814-f522-4bf9-99d6-45bff8018cec --- 2024-04-15T00:00:00Z --- EOCIS Sea-Surface Temperatures V3 2024-04-15
aa5d9ec6-d7f3-4a23-b55b-ee6751bb7170 --- 2024-03-15T00:00:00Z --- EOCIS Arctic Monthly Gridded Sea Ice Thickness 2024-03-15
113583bf-a0d3-499d-9252-ea6ec096abe7 --- 2024-03-15T00:00:00Z --- EOCIS Sea-Surface Temperatures V3 2024-03-15
d9caf30d-ca73-4673-a079-17342019c598 --- 2024-02-14T00:00:00Z --- EOCIS Arctic Monthly Gridded Sea Ice Thickness 2024-02-14
8d23432c-9f46-4ae9-9854-27b880d675f3 --- 2024-02-14T00:00:00Z --- EOCIS Sea-Surface Temperatures V3 2024-02-14</code></pre>
</div>
</div>
<p>The next thing to do is find out what assets are held within each item. The asset is the actual data that we are interested in. We will look at the asset information for the first item returned in the list.</p>
<div id="cell-23" class="cell" data-execution_count="10">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> item <span class="kw">in</span> items[:<span class="dv">1</span>]:  <span class="co"># Process only the second item</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Item ID: </span><span class="sc">{</span>item<span class="sc">.</span><span class="bu">id</span><span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Item name: </span><span class="sc">{</span>item<span class="sc">.</span>properties[<span class="st">"title"</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Assets:"</span>)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> item.assets:</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"  No assets available."</span>)</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> asset_key, asset <span class="kw">in</span> item.assets.items():</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"  - </span><span class="sc">{</span>asset_key<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>asset<span class="sc">.</span>to_dict()<span class="sc">}</span><span class="ss">"</span>)  <span class="co"># Convert asset to dict for readable output</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">"-"</span> <span class="op">*</span> <span class="dv">40</span>)  <span class="co"># Separator for better readability</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Item ID: ea60feff-3a21-49d1-b79f-9179c052cfc0
Item name: EOCIS Sea-Surface Temperatures V3 2024-11-15
Assets:
  - reference_file: {'href': 'https://gws-access.jasmin.ac.uk/public/nceo_uor/eocis-stac/eocis-arctic-sea-ice-thickness-monthly-aux/items/2024/11/EOCIS-SEAICE-L3C-SITHICK-CS2-5KM-202411-fv1.0-kerchunk.json', 'type': 'application/zstd', 'cloud_format': 'kerchunk', 'checksum_type': None, 'open_kwargs': {'open_mapper_kwargs': {}, 'open_zarr_kwargs': {}, 'open_xarray_kwargs': {}}, 'size': None, 'checksum': None, 'roles': ['reference', 'data']}
----------------------------------------
  - EOCIS-SEAICE-L3C-SITHICK-CS2-5KM-202411-fv1.0: {'href': 'https://dap.ceda.ac.uk/neodc/eocis/data/global_and_regional/arctic_sea_ice/arctic_sea_ice_thickness_grids/L3C/monthly/v1.0/EOCIS-SEAICE-L3C-SITHICK-CS2-5KM-202411-fv1.0.nc', 'type': 'application/netcdf', 'roles': ['data']}
----------------------------------------</code></pre>
</div>
</div>
<p>Now we are ready to load some data and visualise it. To do this we will need to use <code>xarray</code>.</p>
<p>– <strong>Notes</strong> –</p>
<p>The data are provided in <code>NetCDF</code> (Network Common Data Form) file format, a widely used standard for storing, sharing, and analyzing scientific data. NetCDF is designed to handle large, multi-dimensional datasets, such as temperature, precipitation, and wind speed, across space and time. The CEDA STAC library also contains reference files in <code>Kerchunk</code> format. Kerchunk is a lightweight reference file format that maps chunks of data in archival formats such as NetCDF that can be lazily loaded to access only the required data chunks for any given request. Rather than converting the source NetCDF to a different format, Kerchunk contains pointers to individual chunks of data and uses the <code>fsspec</code> library to assemble those chunks into the required array in a tool like <code>xarray</code>.</p>
<div id="cell-25" class="cell" data-execution_count="18">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>item <span class="op">=</span> items[<span class="dv">1</span>]</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co"># --- Identify the kerchunk reference asset if it exists ---</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>asset <span class="op">=</span> <span class="va">None</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="st">"reference_file"</span> <span class="kw">in</span> item.assets:</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    asset <span class="op">=</span> item.assets[<span class="st">"reference_file"</span>]</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    href <span class="op">=</span> asset.href</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>    is_kerchunk <span class="op">=</span> <span class="va">True</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Fallback: use the first 'data' asset</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> k, a <span class="kw">in</span> item.assets.items():</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="st">"data"</span> <span class="kw">in</span> a.roles <span class="kw">or</span> a.<span class="bu">type</span> <span class="op">==</span> <span class="st">"application/netcdf"</span>:</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>            asset <span class="op">=</span> a</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>            href <span class="op">=</span> asset.href</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>            is_kerchunk <span class="op">=</span> <span class="va">False</span></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>            <span class="cf">break</span></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Selected asset:"</span>, asset)</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the dataset depending on asset type</span></span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> is_kerchunk: <span class="co"># kerchunk: open via fsspec + zarr</span></span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>    fs <span class="op">=</span> fsspec.filesystem(<span class="st">"reference"</span>, fo<span class="op">=</span>href)</span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>    mapper <span class="op">=</span> fs.get_mapper(<span class="st">""</span>)</span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>    ds <span class="op">=</span> xr.open_dataset(mapper, engine<span class="op">=</span><span class="st">"zarr"</span>, consolidated<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># netcdf: direct open file</span></span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a>    ds <span class="op">=</span> xr.open_dataset(href)</span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">=== DATASET SUMMARY ==="</span>)</span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(ds)</span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">=== VARIABLES ==="</span>)</span>
<span id="cb18-34"><a href="#cb18-34" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">list</span>(ds.data_vars))</span>
<span id="cb18-35"><a href="#cb18-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-36"><a href="#cb18-36" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">=== COORDINATES ==="</span>)</span>
<span id="cb18-37"><a href="#cb18-37" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">list</span>(ds.coords))</span>
<span id="cb18-38"><a href="#cb18-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-39"><a href="#cb18-39" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">=== GLOBAL ATTRIBUTES ==="</span>)</span>
<span id="cb18-40"><a href="#cb18-40" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> k, v <span class="kw">in</span> ds.attrs.items():</span>
<span id="cb18-41"><a href="#cb18-41" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>k<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>v<span class="sc">}</span><span class="ss">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Selected asset: &lt;Asset href=https://gws-access.jasmin.ac.uk/public/nceo_uor/eocis-stac/eocis-arctic-sea-ice-thickness-monthly-aux/items/2024/11/EOCIS-SEAICE-L3C-SITHICK-CS2-5KM-202411-fv1.0-kerchunk.json&gt;

=== DATASET SUMMARY ===
&lt;xarray.Dataset&gt; Size: 68MB
Dimensions:                   (yc: 2240, xc: 1520, time: 1, nv: 2)
Coordinates:
    lat                       (yc, xc) float32 14MB ...
    lon                       (yc, xc) float32 14MB ...
  * time                      (time) datetime64[ns] 8B 2024-11-15
  * xc                        (xc) float32 6kB -3.85e+06 -3.845e+06 ... 3.75e+06
  * yc                        (yc) float32 9kB -5.35e+06 -5.345e+06 ... 5.85e+06
Dimensions without coordinates: nv
Data variables:
    n_thickness_measurements  (time, yc, xc) int32 14MB ...
    polar_stereographic       float32 4B ...
    sea_ice_thickness         (time, yc, xc) float32 14MB ...
    sea_ice_thickness_stdev   (time, yc, xc) float32 14MB ...
    time_bnds                 (time, nv) datetime64[ns] 16B ...
Attributes: (12/32)
    Conventions:               CF-1.10
    conventions:               CF-1.10
    creator_name:              Andy Ridout, Alan Muir (CPOM, University Colle...
    creator_url:               http://www.cpom.org.uk
    date_created:              20250114T095946Z
    end_day:                   30
    ...                        ...
    start_year:                2024
    time_coverage_duration:    P1M
    time_coverage_end:         20241130T235959Z
    time_coverage_resolution:  P1M
    time_coverage_start:       20241101T000000Z
    title:                     Arctic Monthly Gridded Sea Ice Thickness Produ...

=== VARIABLES ===
['n_thickness_measurements', 'polar_stereographic', 'sea_ice_thickness', 'sea_ice_thickness_stdev', 'time_bnds']

=== COORDINATES ===
['lat', 'lon', 'time', 'xc', 'yc']

=== GLOBAL ATTRIBUTES ===
Conventions: CF-1.10
conventions: CF-1.10
creator_name: Andy Ridout, Alan Muir (CPOM, University College London)
creator_url: http://www.cpom.org.uk
date_created: 20250114T095946Z
end_day: 30
end_month: 11
end_year: 2024
geospatial_lat_max: 88.2284
geospatial_lat_min: 67.1128
geospatial_lon_max: 359.9999
geospatial_lon_min: 0.0002
geospatial_vertical_max: 0.0
geospatial_vertical_min: 0.0
institution: Centre for Polar Observation and Modelling (CPOM), U.K
keywords: Sea Ice, Thickness, Radar Altimeters
license: Creative Commons Attribution 4.0 International (CC BY 4.0)
ndays: 30
platform: CryoSat-2
processing_level: Level-3C
project: EOCIS
sensor: SIRAL
spatial_resolution: 5 km
standard_name_vocabulary: CF
start_day: 1
start_month: 11
start_year: 2024
time_coverage_duration: P1M
time_coverage_end: 20241130T235959Z
time_coverage_resolution: P1M
time_coverage_start: 20241101T000000Z
title: Arctic Monthly Gridded Sea Ice Thickness Product from CryoSat-2</code></pre>
</div>
</div>
<p>Now we need to reproject and plot</p>
<div id="cell-27" class="cell" data-execution_count="12">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co"># set the projection</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>ds3413 <span class="op">=</span> ds.rio.write_crs(<span class="st">"EPSG:3413"</span>, inplace<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>sit <span class="op">=</span> ds3413[<span class="st">"sea_ice_thickness"</span>].squeeze()</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>proj <span class="op">=</span> ccrs.Stereographic(central_latitude<span class="op">=</span><span class="dv">90</span>, central_longitude<span class="op">=-</span><span class="dv">45</span>)  <span class="co"># NSIDC default</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="dv">10</span>))</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> plt.axes(projection<span class="op">=</span>proj)</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Transform from EPSG:3413 to map projection</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>sit.plot(</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>    ax<span class="op">=</span>ax,</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>    transform<span class="op">=</span>ccrs.epsg(<span class="dv">3413</span>),</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>    cmap<span class="op">=</span><span class="st">"viridis"</span>,</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>    cbar_kwargs<span class="op">=</span>{<span class="st">"label"</span>: <span class="st">"Sea Ice Thickness (m)"</span>}</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>ax.coastlines()</span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">"Sea Ice Thickness (EPSG:3413)"</span>)</span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="climate-datasets-bas_files/figure-html/cell-13-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-28" class="cell" data-execution_count="13">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Transform lon/lat for ocean point to EPSG:3413</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>to_3413 <span class="op">=</span> Transformer.from_crs(<span class="st">"EPSG:4326"</span>, <span class="st">"EPSG:3413"</span>, always_xy<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>x0, y0 <span class="op">=</span> to_3413.transform(olon, olat)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 50 km buffer in metres</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>aoi_buffer <span class="op">=</span> Point(x0, y0).<span class="bu">buffer</span>(<span class="dv">50_000</span>)   <span class="co"># 50 km radius</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="cell-29" class="cell" data-execution_count="14">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Build GeoDataFrame in EPSG:3413</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>gdf <span class="op">=</span> gpd.GeoDataFrame(</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"geometry"</span>: [aoi_buffer]},</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    crs<span class="op">=</span><span class="st">"EPSG:3413"</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Clip to buffer polygon</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>sit_clip <span class="op">=</span> sit.rio.clip(gdf.geometry, gdf.crs)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="cell-30" class="cell" data-execution_count="15">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">8</span>))</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> plt.axes(projection<span class="op">=</span>proj)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>sit_clip.plot(</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    ax<span class="op">=</span>ax,</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>    transform<span class="op">=</span>ccrs.epsg(<span class="dv">3413</span>),</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    cmap<span class="op">=</span><span class="st">"viridis"</span>,</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    cbar_kwargs<span class="op">=</span>{<span class="st">"label"</span>: <span class="st">"Sea Ice Thickness (m)"</span>}</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Draw AOI point</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>ax.plot(x0, y0, <span class="st">"ro"</span>, markersize<span class="op">=</span><span class="dv">6</span>, transform<span class="op">=</span>ccrs.epsg(<span class="dv">3413</span>))</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>ax.coastlines()</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">"Sea Ice Thickness – 50 km AOI Buffer (EPSG:3413)"</span>)</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="climate-datasets-bas_files/figure-html/cell-16-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="sea-surface-temperature" class="level1">
<h1>Sea Surface Temperature</h1>
<p>We can do something similar for other datasets. We would usually follow the data discovery steps above for each dataset we are interested in. For brevity we can access the <code>href</code> that we require by completing an online search and copying the reference file <code>href</code> into the cell below.</p>
<div id="cell-33" class="cell" data-execution_count="16">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>nhref <span class="op">=</span> <span class="st">"https://gws-access.jasmin.ac.uk/public/nceo_uor/eocis-stac/sst-cdrv3-aux/items/2024/06/20240621120000-ESACCI-L4_GHRSST-SSTdepth-OSTIA-GLOB_ICDR3.0-v02.0-fv01.0-kerchunk.json"</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the dataset </span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>fsst <span class="op">=</span> fsspec.filesystem(<span class="st">"reference"</span>, fo<span class="op">=</span>nhref)</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>mapper1 <span class="op">=</span> fsst.get_mapper(<span class="st">""</span>)</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>dsst <span class="op">=</span> xr.open_dataset(mapper1, engine<span class="op">=</span><span class="st">"zarr"</span>, consolidated<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">=== DATASET SUMMARY ==="</span>)</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(dsst)</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">=== VARIABLES ==="</span>)</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">list</span>(dsst.data_vars))</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">=== COORDINATES ==="</span>)</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">list</span>(dsst.coords))</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">=== GLOBAL ATTRIBUTES ==="</span>)</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> k, v <span class="kw">in</span> dsst.attrs.items():</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>k<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>v<span class="sc">}</span><span class="ss">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>
=== DATASET SUMMARY ===
&lt;xarray.Dataset&gt; Size: 726MB
Dimensions:                   (time: 1, lat: 3600, lon: 7200, bnds: 2)
Coordinates:
  * lat                       (lat) float32 14kB -89.97 -89.93 ... 89.93 89.97
  * lon                       (lon) float32 29kB -180.0 -179.9 ... 179.9 180.0
  * time                      (time) datetime64[ns] 8B 2024-06-21T12:00:00
Dimensions without coordinates: bnds
Data variables:
    analysed_sst              (time, lat, lon) float64 207MB ...
    analysed_sst_uncertainty  (time, lat, lon) float64 207MB ...
    lat_bnds                  (lat, bnds) float32 29kB ...
    lon_bnds                  (lon, bnds) float32 58kB ...
    mask                      (time, lat, lon) float32 104MB ...
    sea_ice_fraction          (time, lat, lon) float64 207MB ...
    time_bnds                 (time, bnds) datetime64[ns] 16B ...
Attributes: (12/66)
    Conventions:                    CF-1.5, Unidata Observation Dataset v1.0
    Metadata_Conventions:           Unidata Dataset Discovery v1.0
    acknowledgment:                 The European Space Agency (ESA) funded th...
    cdm_data_type:                  grid
    comment:                        These data were produced by the Met Offic...
    contact:                        https://climate.esa.int/en/projects/sea-s...
    ...                             ...
    time_coverage_resolution:       P1D
    time_coverage_start:            20240621T000000Z
    title:                          ESA SST CCI Analysis v3.0
    tracking_id:                    ef4779ea-3d9a-42b5-8423-9da05b7b7d7d
    uuid:                           ef4779ea-3d9a-42b5-8423-9da05b7b7d7d
    westernmost_longitude:          -180.0

=== VARIABLES ===
['analysed_sst', 'analysed_sst_uncertainty', 'lat_bnds', 'lon_bnds', 'mask', 'sea_ice_fraction', 'time_bnds']

=== COORDINATES ===
['lat', 'lon', 'time']

=== GLOBAL ATTRIBUTES ===
Conventions: CF-1.5, Unidata Observation Dataset v1.0
Metadata_Conventions: Unidata Dataset Discovery v1.0
acknowledgment: The European Space Agency (ESA) funded the research and development of software to generate these data (grant reference ESA/AO/1-9322/18/I-NB), in addition to funding the production of the Climate Data Record (CDR) for 1980 to 2021. The Copernicus Climate Change Service (C3S) funded the development of the Interim-CDR (ICDR) extension and production of ICDR during 2022. From 2023 onwards the production of the ICDR is funded by the UK Natural Environment Research Council (NERC grant reference number NE/X019071/1, Earth Observation Climate Information Service) and the UK Marine and Climate Advisory Service (UKMCAS), benefitting from the Earth Observation Investment Package of the Department of Science, Innovation and Technology.
cdm_data_type: grid
comment: These data were produced by the Met Office as part of the MCAS project. WARNING Some applications are unable to properly handle signed byte values. If values are encountered &gt; 127, please subtract 256 from this reported value
contact: https://climate.esa.int/en/projects/sea-surface-temperature
contributor_name: JASMIN
contributor_role: This work used JASMIN, the UK's collaborative data analysis environment (https://jasmin.ac.uk)
creation_date: 2024-07-04T15:56:27Z
creator_email: ml-ostia@metoffice.gov.uk
creator_institution: Met Office
creator_name: Met Office
creator_type: institution
creator_url: https://www.metoffice.gov.uk
date_created: 20240704T155627Z
doi: 10.5285/4a9654136a7148e39b7feb56f8bb02d2
easternmost_longitude: 180.00001525878906
file_quality_level: 3
gds_version_id: 2.0
geospatial_lat_max: 90.0
geospatial_lat_min: -90.0
geospatial_lat_resolution: 0.05000000074505806
geospatial_lat_units: degrees_north
geospatial_lon_max: 180.0
geospatial_lon_min: -180.0
geospatial_lon_resolution: 0.05000000074505806
geospatial_lon_units: degrees_east
geospatial_vertical_max: -0.20000000298023224
geospatial_vertical_min: -0.20000000298023224
history: Created using OSTIA reanalysis system ICDR3.0
id: OSTIA-ESACCI-L4-GLOB_ICDR-v3.0
institution: ESACCI
key_variables: analysed_sst,sea_ice_fraction
keywords: Oceans &gt; Ocean Temperature &gt; Sea Surface Temperature
keywords_vocabulary: NASA Global Change Master Directory (GCMD) Science Keywords
license: Creative Commons Attribution 4.0 https://creativecommons.org/licenses/by/4.0/ 
Users of these data should cite the dataset along with the dataset paper: Embury, O. et al. Satellite-based time-series of sea-surface temperature since 1980 for climate applications. Scientific Data (2024). https://doi.org/10.1038/s41597-024-03147-w
metadata_link: https://doi.org/10.5285/4a9654136a7148e39b7feb56f8bb02d2
naming_authority: org.ghrsst
netcdf_version_id: 4.3.2
northernmost_latitude: 90.0
platform: MetOpB, Sentinel-3A, Sentinel-3B
processing_level: L4
product_specification_version: SST_CCI-PSD-UKMO-201-Issue-2
product_version: 3.0.1
project: UK Marine and Climate Advisory Service
publisher_email: support@ceda.ac.uk
publisher_name: NERC EDS Centre for Environmental Data Analysis
publisher_type: institution
publisher_url: https://www.ceda.ac.uk
references: Embury, O. et al. Satellite-based time-series of sea-surface temperature since 1980 for climate applications. Scientific Data (2024). https://doi.org/10.1038/s41597-024-03147-w
sensor: AVHRR, SLSTR
source: AVHRRMTB-UKEOCIS-L3U-ICDR-v3.0, SLSTRA-UKEOCIS-L3U-ICDR-v3.0, SLSTRB-UKEOCIS-L3U-ICDR-v3.0, EUMETSAT_OSI-SAF-ICE-OSI-430-a
southernmost_latitude: -90.0
spatial_resolution: 0.05 degree
standard_name_vocabulary: NetCDF Climate and Forecast (CF) Metadata Convention
start_time: 20240621T000000Z
stop_time: 20240622T000000Z
summary: European Space Agency Sea Surface Temperature Climate Change Initiative: Analysis product version 3.0
time_coverage_duration: P1D
time_coverage_end: 20240622T000000Z
time_coverage_resolution: P1D
time_coverage_start: 20240621T000000Z
title: ESA SST CCI Analysis v3.0
tracking_id: ef4779ea-3d9a-42b5-8423-9da05b7b7d7d
uuid: ef4779ea-3d9a-42b5-8423-9da05b7b7d7d
westernmost_longitude: -180.0</code></pre>
</div>
</div>
<div id="cell-34" class="cell" data-execution_count="17">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract SST variable</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>sst <span class="op">=</span> dsst[<span class="st">"analysed_sst"</span>].squeeze()   <span class="co"># already in EPSG:4326</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>proj <span class="op">=</span> ccrs.PlateCarree()  <span class="co"># map projection = EPSG:4326</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="dv">10</span>))</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> plt.axes(projection<span class="op">=</span>proj)</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>sst.plot(</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>    ax<span class="op">=</span>ax,</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>    transform<span class="op">=</span>ccrs.PlateCarree(),   <span class="co"># IMPORTANT: matches data CRS</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>    cmap<span class="op">=</span><span class="st">"viridis"</span>,</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>    cbar_kwargs<span class="op">=</span>{<span class="st">"label"</span>: <span class="st">"Sea Surface Temperature (°C)"</span>}</span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>ax.coastlines()</span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">"Sea Surface Temperature"</span>)</span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="climate-datasets-bas_files/figure-html/cell-18-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/EO-DataHub\.github\.io\/eodh-training\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>